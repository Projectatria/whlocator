<ion-header id="header" class="header-menu">
  <ion-navbar class="header-navbar" style="width:100%;">
    <button ion-button menuToggle color="light">
      <ion-icon name="menu" style="font-size:30px;"></ion-icon>
    </button>
    <div style="text-align:right;height:0px;">
      <button *ngIf="addusersshow == false && updateusershow == false" ion-button clear style="color:#ffffff;background:transparent;font-size:30px;font-weight: bold;"
        (click)="doOpenAddUsers()">
        <ion-icon name="md-add-circle"></ion-icon>
      </button>
      <button *ngIf="addusersshow == true" ion-button clear style="color:#ffffff;background:transparent;font-size:30px;font-weight: bold;"
        (click)="doOffAddUsers()">
        <ion-icon name="md-close"></ion-icon>
      </button>
      <button *ngIf="updateusershow == true" ion-button clear style="color:#ffffff;background:transparent;font-size:30px;font-weight: bold;"
        (click)="doOffUpdateUsers()">
        <ion-icon name="md-close"></ion-icon>
      </button>
    </div>
    <ion-title class="side-title">
      <div class="logo-atria">
        <img src="assets/imgs/logoatriawhite.png" height="45" />
      </div>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row class="row-content" style="font-weight: bold;">
      <ion-col (click)="doSort('iduser')" class="col-content" col-3>ID User
        <ion-icon *ngIf="param == 'iduser' && sort == 'ASC'" name="md-arrow-dropdown"></ion-icon>
        <ion-icon *ngIf="param == 'iduser' && sort == 'DESC'" name="md-arrow-dropup"></ion-icon>
      </ion-col>
      <ion-col (click)="doSort('area')" class="col-content" col-2>Area
        <ion-icon *ngIf="param == 'area' && sort == 'ASC'" name="md-arrow-dropdown"></ion-icon>
        <ion-icon *ngIf="param == 'area' && sort == 'DESC'" name="md-arrow-dropup"></ion-icon>
      </ion-col>
      <ion-col (click)="doSort('group')" class="col-content" col-2>Group
        <ion-icon *ngIf="param == 'group' && sort == 'ASC'" name="md-arrow-dropdown"></ion-icon>
        <ion-icon *ngIf="param == 'group' && sort == 'DESC'" name="md-arrow-dropup"></ion-icon>
      </ion-col>
      <ion-col (click)="doSort('role')" class="col-content" col-2>Role
        <ion-icon *ngIf="param == 'role' && sort == 'ASC'" name="md-arrow-dropdown"></ion-icon>
        <ion-icon *ngIf="param == 'role' && sort == 'DESC'" name="md-arrow-dropup"></ion-icon>
      </ion-col>
      <ion-col (click)="doSort('location')" class="col-content" col-2>Location
        <ion-icon *ngIf="param == 'location' && sort == 'ASC'" name="md-arrow-dropdown"></ion-icon>
        <ion-icon *ngIf="param == 'location' && sort == 'DESC'" name="md-arrow-dropup"></ion-icon>
      </ion-col>
      <ion-col class="col-content" col-1></ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-3 style="padding:0px;background: #fff;border:1px solid;border-color:#dedede;border-bottom:0px;">
        <ion-input placeholder="Search" (keydown)="getSearchID($event.target.value)" (keyup)="getSearchID($event.target.value)"></ion-input>
      </ion-col>
      <ion-col col-2 style="padding:0px;background: #fff;border:1px solid;border-color:#dedede;border-bottom:0px;">
        <ion-input placeholder="Search" (keydown)="getSearchArea($event.target.value)" (keyup)="getSearchArea($event.target.value)"></ion-input>
      </ion-col>
      <ion-col col-2 style="padding:0px;background: #fff;border:1px solid;border-color:#dedede;border-bottom:0px;">
        <ion-input placeholder="Search" (keydown)="getSearchGroup($event.target.value)" (keyup)="getSearchGroup($event.target.value)"></ion-input>
      </ion-col>
      <ion-col col-2 style="padding:0px;background: #fff;border:1px solid;border-color:#dedede;border-bottom:0px;">
        <ion-input placeholder="Search" (keydown)="getSearchRole($event.target.value)" (keyup)="getSearchRole($event.target.value)"></ion-input>
      </ion-col>
      <ion-col col-2 style="padding:0px;background: #fff;border:1px solid;border-color:#dedede;border-bottom:0px;">
        <ion-input placeholder="Search" (keydown)="getSearchCab($event.target.value)" (keyup)="getSearchCab($event.target.value)"></ion-input>
      </ion-col>
      <ion-col col-1 style="padding:0px;background: #fff;border:1px solid;border-color:#dedede;border-bottom:0px;">

      </ion-col>
    </ion-row>
    <ion-row *ngFor="let user of users" class="row-content-list">
      <ion-col *ngIf="user.Row % 2 == 0" class="col-content-genap" col-3>{{user.id_user}}</ion-col>
      <ion-col *ngIf="user.Row % 2 == 0" class="col-content-genap" col-2>{{user.id_area}}</ion-col>
      <ion-col *ngIf="user.Row % 2 == 0" class="col-content-genap" col-2>{{user.id_group}}</ion-col>
      <ion-col *ngIf="user.Row % 2 == 0" class="col-content-genap" col-2>{{user.id_role}}</ion-col>
      <ion-col *ngIf="user.Row % 2 == 0" class="col-content-genap" col-2>{{user.id_cab}}</ion-col>
      <ion-col *ngIf="user.Row % 2 == 0" class="col-content-genap" col-1 (click)="doOpenOptions(user)" style="text-align:center;">
        <ion-icon name="md-more" style="font-size:30px;text-align:center;color:#217481;"></ion-icon>
      </ion-col>

      <ion-col *ngIf="user.Row % 2 != 0" class="col-content-ganjil" col-3>{{user.id_user}}</ion-col>
      <ion-col *ngIf="user.Row % 2 != 0" class="col-content-ganjil" col-2>{{user.id_area}}</ion-col>
      <ion-col *ngIf="user.Row % 2 != 0" class="col-content-ganjil" col-2>{{user.id_group}}</ion-col>
      <ion-col *ngIf="user.Row % 2 != 0" class="col-content-ganjil" col-2>{{user.id_role}}</ion-col>
      <ion-col *ngIf="user.Row % 2 != 0" class="col-content-ganjil" col-2>{{user.id_cab}}</ion-col>
      <ion-col *ngIf="user.Row % 2 != 0" class="col-content-ganjil" col-1 (click)="doOpenOptions(user)" style="text-align:center;">
        <ion-icon name="md-more" style="font-size:30px;text-align:center;color:#217481;"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-content *ngIf="addusersshow == true" class="modal-users" style="margin-top:70px;">
  <div class="modal-content-users">
    <form [formGroup]="myForm">
      <ion-item no-lines>
        <ion-label stacked style="font-size: 18px;">ID User</ion-label>
        <ion-input formControlName="iduser" style="font-size: 18px;padding-top:10px;"></ion-input>
      </ion-item>
      <ion-item no-lines>
        <ion-label stacked style="font-size: 18px;">Name</ion-label>
        <ion-input formControlName="name" style="font-size: 18px;padding-top:10px;"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked style="font-size: 18px;">Area</ion-label>
        <ion-select style="font-size: 18px;padding-top:10px;" formControlName="area">
          <ion-option style="font-size: 18px;padding-top:10px;" value="HO">HO</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="INBOUND">INBOUND</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="OUTBOUND">OUTBOUND</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="SHOWROOM">SHOWROOM</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label stacked style="font-size: 18px;">Group</ion-label>
        <ion-select style="font-size: 18px;padding-top:10px;" formControlName="group">
          <ion-option style="font-size: 18px;padding-top:10px;" value="ADMIN">ADMIN</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="TL">TL</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="STAFF">STAFF</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label stacked style="font-size: 18px;">Role</ion-label>
        <ion-select style="font-size: 18px;padding-top:10px;" formControlName="role">
          <ion-option style="font-size: 18px;padding-top:10px;" value="ADMIN">ADMIN</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="DRIVER">DRIVER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="DSM">DEPUTY STORE MANAGER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="INSTALLER">INSTALLER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="LOADER">LOADER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="RECEIVING">RECEIVING</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="REPAIR">REPAIR</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="SC">SALES CONSULTANT</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="SM">SHOWROOM MANAGER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="TL">TEAM LEADER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="QC">QUALITY CONTROL</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="WAREHOUSEMAN">WAREHOUSE MAN</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label stacked style="font-size: 18px;">Location</ion-label>
        <ion-select style="font-size: 18px;padding-top:10px;" formControlName="location">
          <ion-option style="font-size: 18px;padding-top:10px;" *ngFor="let loc of location" value="{{loc.Code}}">{{loc.Code}} {{loc.Name}}</ion-option>
        </ion-select>
      </ion-item>
    </form>
  </div>
</ion-content>
<ion-footer *ngIf="addusersshow == true" style="background:#217481;">
  <button ion-button full color="greenlake" [disabled]="!myForm.valid" (click)="doInsertUsers()">
    Insert
  </button>
</ion-footer>
<div *ngIf="updateusershow == true" class="modal-users" style="margin-top:70px;">
  <div class="modal-content-users">
    <form [formGroup]="myForm">
      <ion-item no-lines>
        <ion-label stacked style="font-size: 18px;">ID User</ion-label>
        <ion-input formControlName="iduser" disabled style="font-size: 18px;padding-top:10px;"></ion-input>
      </ion-item>
      <ion-item no-lines>
        <ion-label stacked style="font-size: 18px;">Name</ion-label>
        <ion-input formControlName="name" style="font-size: 18px;padding-top:10px;"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked style="font-size: 18px;">Area</ion-label>
        <ion-select style="font-size: 18px;padding-top:10px;" formControlName="area">
          <ion-option style="font-size: 18px;padding-top:10px;" value="HO">HO</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="INBOUND">INBOUND</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="OUTBOUND">OUTBOUND</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="SHOWROOM">SHOWROOM</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label stacked style="font-size: 18px;">Group</ion-label>
        <ion-select style="font-size: 18px;padding-top:10px;" formControlName="group">
          <ion-option style="font-size: 18px;padding-top:10px;" value="ADMIN">ADMIN</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="TL">TL</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="STAFF">STAFF</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label stacked style="font-size: 18px;">Role</ion-label>
        <ion-select style="font-size: 18px;padding-top:10px;" formControlName="role">
          <ion-option style="font-size: 18px;padding-top:10px;" value="ADMIN">ADMIN</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="DRIVER">DRIVER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="DSM">DEPUTY STORE MANAGER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="INSTALLER">INSTALLER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="LOADER">LOADER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="RECEIVING">RECEIVING</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="REPAIR">REPAIR</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="SC">SALES CONSULTANT</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="SM">SHOWROOM MANAGER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="TL">TEAM LEADER</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="QC">QUALITY CONTROL</ion-option>
          <ion-option style="font-size: 18px;padding-top:10px;" value="WAREHOUSEMAN">WAREHOUSE MAN</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label stacked style="font-size: 18px;">Location</ion-label>
        <ion-select style="font-size: 18px;padding-top:10px;" formControlName="location">
          <ion-option style="font-size: 18px;padding-top:10px;" *ngFor="let loc of location" value="{{loc.Code}}">{{loc.Code}} {{loc.Name}}</ion-option>
        </ion-select>
      </ion-item>
    </form>
  </div>
</div>
<ion-footer *ngIf="updateusershow == true" style="background:#217481;">
  <button ion-button full color="greenlake" [disabled]="!myForm.valid" (click)="doUpdateUsers()">
    Update
  </button>
</ion-footer>